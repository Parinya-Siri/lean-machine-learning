import topology.algebra.filter_basis
import topology.algebra.uniform_group
open_locale uniformity filter
open filter
namespace add_group_filter_basis
variables {G : Type*} [add_comm_group G] (B : add_group_filter_basis G)
protected def uniform_space : uniform_space G :=
@topological_add_group.to_uniform_space G _ B.topology B.is_topological_add_group
protected lemma uniform_add_group : @uniform_add_group G B.uniform_space _:=
@topological_add_group_is_uniform G _ B.topology B.is_topological_add_group
lemma cauchy_iff {F : filter G} :
  @cauchy G B.uniform_space F â†” F.ne_bot âˆ§ âˆ€ U âˆˆ B, âˆƒ M âˆˆ F, âˆ€ x y âˆˆ M, y - x âˆˆ U :=
begin
  letI := B.uniform_space,
  haveI := B.uniform_add_group,
  suffices : F Ã—á¶  F â‰¤ ğ“¤ G â†” âˆ€ U âˆˆ B, âˆƒ M âˆˆ F, âˆ€ x y âˆˆ M, y - x âˆˆ U,
    by split ; rintros âŸ¨h', hâŸ© ; refine âŸ¨h', _âŸ© ; [rwa â† this, rwa this],
  rw [uniformity_eq_comap_nhds_zero G, â† map_le_iff_le_comap],
  change tendsto _ _ _ â†” _,
  simp [(basis_sets F).prod_self.tendsto_iff B.nhds_zero_has_basis, @forall_swap (_ âˆˆ _) G]
end
end add_group_filter_basis
